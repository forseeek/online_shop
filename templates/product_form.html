<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PhoneStore | {{action}} Product</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/style.css">
</head>

<body>

    <div class="form container">
        <form method="post">

            <h1>{{action}} Product</h1>

            <div class="input-group mb-3">
                <span class="input-group-text">Name</span>
                <input type="text" placeholder="iPhone 21" name="name" value="{{product.name if product else ''}}"
                    required aria-label="Name" class="form-control">
                <span class="input-group-text">Category</span>
                <input class="form-control" list="categoryOptions" type="text" name="category"
                    value="{{product.category if product else ''}}">
                <datalist id="categoryOptions">
                    <option value="Apple">
                    <option value="Samsung">
                    <option value="Nothing">
                    <option value="Google Pixel">
                    <option value="Xiaomi">
                </datalist>
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text">Price</span>
                <input class="form-control" type="number" name="price" step="0.01"
                    value="{{product.price if product else 0}}" required min="0">
                <span class="input-group-text">₴</span>

                <span class="input-group-text">Stock</span>
                <input class="form-control" type="number" name="stock" step="1"
                    value="{{product.stock if product else 0}}" min="0">
            </div>


            <div class="input-group mb-3">
                <span class="input-group-text">Description</span>
                <textarea class="form-control" rows="3" name="description"
                    value="{{product.description if product else ''}}"></textarea>
            </div>

            <div class="mb-3">
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" id="is_active" name="is_active" {% if product and
                        product.is_active %}checked{% endif %}>
                    <label class="form-check-label" for="is_active">Is Active?</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="sale" id="sale" {% if product and product.sale
                        %}checked{% endif %}>
                    <label class="form-check-label" for="sale">On Sale?</label>
                </div>
            </div>

            <div class="mb-3">
                <label for="rating" class="form-label">Rating</label>
                <output for="rating" id="ratingValue" aria-hidden="true"></output>
                <input type="range" id="rating" class="form-range" name="rating" step="0.1" min="0" max="5"
                    value="{{product.rating if product else 0}}">

                <script>
                    // This is an example script, please modify as needed
                    const ratingInput = document.getElementById('rating');
                    const ratingOutput = document.getElementById('ratingValue');

                    ratingOutput.textContent = ratingInput.value + " ⭐";

                    ratingInput.addEventListener('input', function () {
                        ratingOutput.textContent = this.value + " ⭐";
                    });
                </script>
            </div>


            <button type="submit" class="btn btn-primary">{{action}}</button>
            <a class="btn btn-secondary" href="{{url_for('routes.products')}}" role="button">Back to the list</a>


        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>